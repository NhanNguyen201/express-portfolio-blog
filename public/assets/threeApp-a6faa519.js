import{B as e,a as t,O as n,M as i,b as o,c as s,D as a,P as r,C as h,S as c,d,e as l,A as v,W as p,f as w,V as m,R as u,g,T as f,h as x,i as b,j as S}from"./three.module-f98f4491.js";import{O as j}from"./OrbitControls-84413819.js";import{E as y,R as P,U as T,O as M}from"./OutputPass-f56cba18.js";function U(n,i,o,s,a){let r=.5*n,h=.5*i,c=.5*o,d=[r,h-s,-c+s,r,-h+s,-c+s,r,-h+s,c-s,r,h-s,c-s,r-s,h-s,c,r-s,-h+s,c,-r+s,-h+s,c,-r+s,h-s,c,-r,h-s,c-s,-r,-h+s,c-s,-r,-h+s,-c+s,-r,h-s,-c+s,-r+s,h-s,-c,-r+s,-h+s,-c,r-s,-h+s,-c,r-s,h-s,-c,r-s,h,-c+s,r-s,h,c-s,-r+s,h,c-s,-r+s,h,-c+s,r-s,-h,-c+s,r-s,-h,c-s,-r+s,-h,c-s,-r+s,-h,-c+s],l=new e;return l.setAttribute("position",new t(new Float32Array(d),3)),l.setIndex(a?[0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,8,9,9,10,10,11,11,8,12,13,13,14,14,15,15,12,16,17,17,18,18,19,19,16,20,21,21,22,22,23,23,20,2,5,3,4,6,9,7,8,10,13,11,12,15,0,14,1,16,0,17,3,17,4,18,7,18,8,19,11,19,12,16,15,20,1,21,2,21,5,22,6,22,9,23,10,23,13,20,14]:[0,2,1,3,2,0,4,6,5,7,6,4,8,10,9,11,10,8,12,14,13,15,14,12,16,18,17,19,18,16,20,21,22,23,20,22,3,5,2,4,5,3,7,9,6,8,9,7,11,13,10,12,13,11,15,1,14,0,1,15,16,3,0,17,3,16,17,7,4,18,7,17,18,11,8,19,11,18,19,15,12,16,15,19,1,21,20,2,21,1,5,22,21,6,22,5,9,23,22,10,23,9,13,20,23,14,20,13,3,17,4,7,18,8,11,19,12,15,16,0,2,5,21,6,9,22,10,13,23,14,1,20]),a||l.computeVertexNormals(),l}function k(){this.group=new n,this.colors={pink:15085407,white:11056639,yellow:15990704},this.object=new n,this.bulb=null,this.object.position.y=-.5,this.group.add(this.object);let e=new i(new o(5,.1,4),new s({color:this.colors.pink,side:a,flatShading:!0}));e.position.y=-.5,e.receiveShadow=!0,this.object.add(e);let t=new i(new o(6,.1,7),new s({color:this.colors.white,side:a,flatShading:!0}));t.position.y=-.6,t.position.z=0,t.receiveShadow=!0,this.object.add(t);let c=new i(new U(2.5,1.5,.2,.02,!1),new s({color:this.colors.pink,side:a,flatShading:!0}));c.position.set(-1,.35,1.5),c.rotation.x=-Math.PI/18,c.castShadow=!0,this.object.add(c);let d=new i(new o(2.6,.1,.2),new s({color:this.colors.white,side:a,flatShading:!0}));d.position.set(-1,-.4,1.625),d.castShadow=!0,this.object.add(d);let l=new i(new o(1.5,1.25,.2),new s({color:this.colors.pink,side:a,flatShading:!0}));l.position.set(-1,.125,-1.5),l.castShadow=!0,this.object.add(l);let v=new i(new o(1.5,.75,.2),new s({color:this.colors.pink,side:a,flatShading:!0}));v.position.set(-1,2.125,-1.5),v.castShadow=!0,this.object.add(v);let p=new i(new o(.1,1,.2),new s({color:this.colors.pink,side:a,flatShading:!0}));p.position.set(-1.7,1.25,-1.5),p.castShadow=!0,this.object.add(p);let w=new i(new o(.1,1,.2),new s({color:this.colors.pink,side:a,flatShading:!0}));w.position.set(-.3,1.25,-1.5),w.castShadow=!0,this.object.add(w);let m=new i(new o(1.1,.85,.18),new s({color:this.colors.white,side:a,flatShading:!0}));m.position.set(-1,1.25,-1.5),this.object.add(m);let u=new i(new o(.8,.8,.18),new s({color:this.colors.pink,side:a,flatShading:!0}));u.position.set(-1,1.25,-1.49),this.object.add(u);let g=new i(new o(1.5,.2,1.5),new s({color:this.colors.pink,side:a,flatShading:!0}));g.position.set(-1,2.5,-.85),g.castShadow=!0,this.object.add(g);let f=new i(new o(4,.2,1.2),new s({color:this.colors.pink,side:a,flatShading:!0}));f.position.set(.25,2.5,0),f.castShadow=!0,this.object.add(f);let x=new i(new o(1.75,3.5,.2),new s({color:this.colors.white,side:a,flatShading:!0}));x.position.set(1.25,1.25,-1.5),x.castShadow=!0,this.object.add(x);let b=new i(new o(1.75,.2,2.5),new s({color:this.colors.white,side:a,flatShading:!0}));b.position.set(1.25,3,-.35),b.castShadow=!0,this.object.add(b);let S=new i(new U(1.75,3,.2,.01,!1),new s({color:this.colors.white,side:a,flatShading:!0}));S.position.set(1.25,1.61,1.06),S.rotation.x=-Math.PI/18,this.object.add(S);let j=new i(new o(1.75,.2,.5),new s({color:this.colors.white,side:a,flatShading:!0}));j.position.set(1.25,.1,1.16),this.object.add(j);let y=new i(new o(1.75,.74,.2),new s({color:this.colors.white,side:a,flatShading:!0}));y.position.set(1.25,-.175,1),this.object.add(y);let P=new i(new o(5.005,.11,1),new s({color:this.colors.white,side:a,flatShading:!0}));P.position.y=-.495,P.receiveShadow=!0,this.object.add(P);for(let n=0;n<4;n++){let e=new i(new o(1,.1,.1),new s({color:this.colors.pink,side:a,flatShading:!0}));e.position.set(1.25*n-1.875,-.485,0),this.object.add(e)}let T=new i(new r(5,.1),new s({color:this.colors.pink,side:a,flatShading:!0}));T.position.set(0,-.5,3.25),this.object.add(T);let M=new i(new r(5,.1),new s({color:this.colors.pink,side:a,flatShading:!0}));M.position.set(0,-.5,2.25),this.object.add(M);let k=new i(new r(1,.1),new s({color:this.colors.pink,side:a,flatShading:!0}));k.position.set(2.5,-.5,2.75),k.rotation.y=Math.PI/2,this.object.add(k);let W=new i(new r(1,.1),new s({color:this.colors.pink,side:a,flatShading:!0}));W.position.set(-2.5,-.5,2.75),W.rotation.y=Math.PI/2,this.object.add(W);let R=new i(new o(5,.1,.5),new s({color:this.colors.pink,side:a,flatShading:!0}));R.position.set(0,-.5,-2.5),this.object.add(R);let D=new i(new o(5,.1,.5),new s({color:this.colors.pink,side:a,flatShading:!0}));D.position.set(0,2,-2.5),D.rotation.x=Math.PI/4,this.object.add(D);let C=new i(new o(1.7,.1,1),new s({color:this.colors.pink,side:a,flatShading:!0}));C.position.set(1.25,2,-2),this.object.add(C);let I=new i(new h(.2,.2,2,32,1,!1,Math.PI/2+Math.PI/4,Math.PI),new s({color:16777215,side:a,flatShading:!0}));I.position.set(0,2,-2.5),I.rotation.z=Math.PI/2,this.object.add(I)}const W=""+new URL("../loveJS.jpg",import.meta.url).href,R=""+new URL("../brand.jpg",import.meta.url).href,D=""+new URL("../brand_height.jpg",import.meta.url).href,C=""+new URL("../js.jpg",import.meta.url).href,I=""+new URL("../nodejs.jpg",import.meta.url).href,z={vertex:"\n        varying vec2 vUv;\n        uniform float uTime;\n        uniform vec2 uRatio;\n        varying float vWave;\n\n        float PI = 3.141618;\n        float fre = 3.;\n\n        vec2 hash( vec2 p ) {\n            p = vec2( dot(p,vec2(127.1,311.7)), dot(p,vec2(269.5,183.3)) );\n            return -1.0 + 2.0*fract(sin(p)*43758.5453123);\n        }\n\n        float noise( vec2 p ){\n            const float K1 = 0.366025404; // (sqrt(3)-1)/2;\n            const float K2 = 0.211324865; // (3-sqrt(3))/6;\n\n            vec2  i = floor( p + (p.x+p.y)*K1 );\n            vec2  a = p - i + (i.x+i.y)*K2;\n            float m = step(a.y,a.x); \n            vec2  o = vec2(m,1.0-m);\n            vec2  b = a - o + K2;\n            vec2  c = a - 1.0 + 2.0*K2;\n            vec3  h = max( 0.5-vec3(dot(a,a), dot(b,b), dot(c,c) ), 0.0 );\n            vec3  n = h*h*h*h*vec3( dot(a,hash(i+0.0)), dot(b,hash(i+o)), dot(c,hash(i+1.0)));\n            return dot( n, vec3(70.0) );\n        }\n        void main() {\n            vUv = uv ;\n            vec2 noisePos = vec2(((vUv - 0.5).x +  sin(uTime) * 1.5) * fre, ((vUv -0.5).y  + cos(uTime) * 1.5) * fre);   \n            \n            vWave = noise(noisePos);\n\n\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ",fragment:"\n        varying vec2 vUv;\n        varying float vWave;\n\n        uniform sampler2D uTexture; \n        uniform sampler2D uHeight;\n        // seperate \n        float sept = 0.15;\n\n        vec3 toRGB(vec3 c) {\n            return vec3(c.r / 255., c.g / 255., c.b / 255.);\n        }\n\n        void main(){\n            vec4 t1 = texture2D(uTexture, vUv );\n            vec4 tHeight = texture2D(uHeight, vUv);\n\n            vec3 white = vec3(1., 1., 1.); \n            vec3 pink = toRGB(vec3(230., 47., 95.));\n\n            vec3 mix1 = mix(\n                t1.rgb, \n                white, \n                1.- step(length(t1.rgb) , length(white) )\n            );\n\n            vec3 mix2 = mix(\n                pink, \n                white, \n                1.- step(length(pink), length(t1.rgb))\n            );\n            \n            vec3 mix3 = mix(\n                mix2,  \n                mix1, \n                step(sept, vWave )\n            );\n\n            vec4 texture = mix(\n                vec4(mix3, 1.), \n                t1, \n                step(0.99, dot(tHeight.rgb, vec3(1.)))\n            );\n            gl_FragColor = texture;\n\n\n        }\n    "},K={vertex:"\n        varying vec2 vUv;\n        uniform float uTime;\n        \n        void main() {\n            vUv = uv ;\n            \n\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ",fragment:"\n        uniform sampler2D uTexture1; \n        uniform sampler2D uTexture2; \n\n        uniform float uTime;\n\n        varying vec2 vUv;\n\n        vec4 toRgb (vec4 c) {\n            return vec4(c[0] / 255., c[1] / 255., c[2] / 255., c[3] );\n        }\n        void main() {\n            vec2 p = vUv;\n            float x = pow(sin(uTime * 2.), 4.);\n            x =  smoothstep(.0,1.0,(x*2.0+p.y-1.0));\n\n            vec4 t1 = texture2D(uTexture1, vUv );\n            vec4 t2 = texture2D(uTexture2, vUv );\n\n            vec4 c1 = toRgb(vec4(230., 47., 95., 1.));\n            vec4 c2 = toRgb(vec4(0., 0., 0., 1.));\n\n            vec4 texture = mix(\n                texture2D(uTexture1, (p-.5)*(1.-x) + 0.5), \n                texture2D(uTexture2, (p-.5)*x+ 0.5), \n                x\n            );\n            gl_FragColor = texture;\n        }\n    "},L={vertex:"\n        varying vec2 vUv;   \n        varying float vWave;\n        uniform float uTime;\n\n        \n        vec2 hash( vec2 p ) {\n            p = vec2( dot(p,vec2(127.1,311.7)), dot(p,vec2(269.5,183.3)) );\n            return -1.0 + 2.0*fract(sin(p)*43758.5453123);\n        }\n\n        float noise( vec2 p ){\n            const float K1 = 0.366025404; // (sqrt(3)-1)/2;\n            const float K2 = 0.211324865; // (3-sqrt(3))/6;\n\n            vec2  i = floor( p + (p.x+p.y)*K1 );\n            vec2  a = p - i + (i.x+i.y)*K2;\n            float m = step(a.y,a.x); \n            vec2  o = vec2(m,1.0-m);\n            vec2  b = a - o + K2;\n            vec2  c = a - 1.0 + 2.0*K2;\n            vec3  h = max( 0.5-vec3(dot(a,a), dot(b,b), dot(c,c) ), 0.0 );\n            vec3  n = h*h*h*h*vec3( dot(a,hash(i+0.0)), dot(b,hash(i+o)), dot(c,hash(i+1.0)));\n            return dot( n, vec3(70.0) );\n        }\n\n        float sdBox(vec2 p, vec2 b){\n            vec2 d = abs(p) - b;\n            return length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n        }\n\n        void main() {\n            vUv = uv;\n            float noiseAmp = abs(sin(vUv.x * 4. + uTime * 2.) * 1.25) ; \n            float noiseFreq = 2.;\n            \n            vec3 pos = position;\n            vec2 noisePos = vec2(pos.x * noiseFreq + uTime, pos.y * noiseFreq + uTime * 0.75);\n            vWave = noise(noisePos) *  step( 0.9, 1. - sdBox(vUv - 0.5, vec2(0.35, 0.3))) ;\n            vWave = max(vWave, 0.) ;\n            pos.z += vWave * noiseAmp ;\n            gl_PointSize = 3.;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n        }\n    ",fragment:"\n        varying vec2 vUv;\n        varying float vWave;\n\n        \n        float sdBox(vec2 p, vec2 b){\n            vec2 d = abs(p) - b;\n            return length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n        }\n        void main() {\n            \n\n            vec4 firstColor = vec4(0.65, 0.7, 1., 1.); // white\n            vec4 middleColor = vec4(0.,0., 1., 1.); // blue\n            vec4 endColor = vec4(0.92, 0.63, 0.21, 1.); // orange\n\n            float firstStep = 0.25;\n            float secondStep = 0.75;\n            vec4 mainColor = mix(\n                mix(firstColor, middleColor, smoothstep(0., firstStep / 4., vWave)), \n                mix(middleColor, endColor, smoothstep(secondStep - 0.2, secondStep + 0.2, vWave  + min(secondStep - firstStep, 0.5))), \n                vWave \n            );\n            \n            gl_FragColor = mainColor;\n        }\n    "};class q{constructor({container:e,dom:t}){this.container=e,this.dom=t,this.scene=new c,this.clock=new d,this.camera=new l(45,this.container.clientWidth/this.container.clientHeight,.01,1e5),this.camera.position.z=8,this.camera.position.y=3,this.camera.position.x=-6,this.ambient=new v({color:7697781}),this.scene.add(this.ambient),this.stage=null,this.board=null,this.logo=null,this.pond=null,this.renderer=new p({canvas:this.dom,antialias:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=w,this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.composer=new y(this.renderer),this.composer.addPass(new P(this.scene,this.camera)),this.bloomPass=new T(new m(this.container.clientWidth,this.container.clientHeight)),this.bloomPass.strength=.2,this.bloomPass.threshold=.6,this.bloomPass.radius=.6,this.composer.addPass(this.bloomPass),this.outputPass=new M,this.composer.addPass(this.outputPass),this.controls=new j(this.camera,this.renderer.domElement),this.raycaster=new u,this.pointer=new m,this.onResize()}init(){this.addLights(),this.initStage(),this.addEvents()}initStage(){this.stage=new k,this.scene.add(this.stage.group);let e=new i(new r(2.4,1.4),new g({map:(new f).load(W),side:a}));e.position.set(-1,.36,1.65),e.rotation.x=-Math.PI/18,this.stage.object.add(e);let t=this.createBoard();t.position.set(1.25,1.63,1.2),t.rotation.x=-Math.PI/18,this.stage.object.add(t);let n=this.createLogo();n.position.set(-1,1.25,-1.38),this.stage.object.add(n);let o=this.createPond();o.position.set(0,-.45,2.75),o.rotation.x=-Math.PI/2,this.stage.object.add(o)}createBoard(){let e=3,t=1.75;return this.board=new i(new r(t-.25,e-.25,100,100),new x({vertexShader:z.vertex,fragmentShader:z.fragment,uniforms:{uTexture:{type:"sample2D",value:(new f).load(R)},uHeight:{type:"sample2D",value:(new f).load(D)},uTime:{type:"float",value:0}},side:a,transparent:!0,depthTest:!0})),this.board}createLogo(){return this.logo=new i(new r(.75,.75,36,36),new x({vertexShader:K.vertex,fragmentShader:K.fragment,uniforms:{uTexture1:{type:"sample2D",value:(new f).load(C)},uTexture2:{type:"sample2D",value:(new f).load(I)},uTime:{type:"float",value:.8}},side:a})),this.logo}createPond(){return this.pond=new b(new r(5,1,125,75),new x({vertexShader:L.vertex,fragmentShader:L.fragment,uniforms:{uTime:{type:"float",value:0}},side:a})),this.pond}addLights(){var e=[];e[0]=new S(16777215,.55),e[0].position.set(3,0,0),e[1]=new S(1173691,.4),e[1].position.set(4.75,8,.5),e[1].castShadow=!0,e[1].shadow.mapSize.width=512,e[1].shadow.mapSize.height=512,e[1].shadow.camera.near=.5,e[1].shadow.camera.far=500,e[2]=new S(8519881,.3),e[2].position.set(-2.75,-1,.5),e[3]=new S(16777215,.2),e[3].position.set(5,3,-8),this.scene.add(e[0]),this.scene.add(e[1]),this.scene.add(e[2]),this.scene.add(e[3])}addEvents(){window.requestAnimationFrame(this.run.bind(this)),window.addEventListener("resize",this.onResize.bind(this),!1)}run(){requestAnimationFrame(this.run.bind(this)),this.render()}render(){let e=this.clock.getElapsedTime();this.stage.group.rotation.y+=.001,this.board&&(this.board.material.uniforms.uTime.value=e/8),this.pond&&(this.pond.material.uniforms.uTime.value=e/4),this.logo&&(this.logo.material.uniforms.uTime.value=e/8),this.bloomPass&&(this.bloomPass.strength=.175*Math.pow(Math.sin(e),8)),this.composer?this.composer.render():this.renderer.render(this.scene,this.camera)}onResize(){const e=this.container.clientWidth,t=this.container.clientHeight;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,t)}}export{q as App};
